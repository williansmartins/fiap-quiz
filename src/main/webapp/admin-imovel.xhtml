<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:head>
	    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	    <title>Imobiliária</title>
	    <link href="css/estilos.css" rel="stylesheet" />
	    <link href="css/bootstrap.css" rel="stylesheet" />
	    <link href="css/demo-slideshow.css" rel="stylesheet" />
	    <link href="css/slider.css" rel="stylesheet" />
	    <link href="img/favicon.ico" rel="icon" type="image/x-icon" />
	</h:head>
	<h:body styleClass="admin-imovel">
		<h:form id="imovel-form" enctype="multipart/form-data">
			<div class="topo">
			</div>
			<div class="menu">
			  <ul>
			    <li><a class="first" href="admin-corretor.xhtml">Corretor</a></li>
			    <li><a href="admin-clientes.xhtml">Clientes</a></li>
			    <li><a href="admin-imoveis.xhtml">Imóveis</a></li>
			  </ul>
    		  <h:messages>
	 			  <h:message for=""></h:message>
	 		  </h:messages>
			</div>
		    <div class="wrapper admin-imovel">
		      <div class="admin">
		        <div class="content">
		          <h1 class="popularImovel">Dados do imóvel</h1>
		
		          <ul class="nav nav-tabs" role="tablist" id="myTab">
		            <li><a href="#home"     id="tab-home" role="tab" data-toggle="tab">Básico</a></li>
		            <li><a href="#profile" id="tab-profile" role="tab" data-toggle="tab">Descrição</a></li>
		            <li><a href="#fotosPrincipais" id="tab-fotosPrincipais" role="tab" data-toggle="tab">Fotos</a></li>
		            <li><a href="#thumbs" id="tab-thumbs" role="tab" data-toggle="tab">Thumbs</a></li>
		            <li><a href="#settings" id="tab-settings" role="tab" data-toggle="tab">Detalhes</a></li>
		          </ul>
		
		          <div class="tab-content">
		            <div class="tab-pane" id="home">
						<div class="row">
			          		<div class="col-md-3">
				                <label>Título:</label>
								<h:inputText styleClass="form-control" id="titulo" maxlength="35" value="#{imovelBean.entity.titulo}" />
			          		</div>	
			          		<div class="col-md-3">
			          			<label>Apresentar na Home?</label>
			          			<br />
								<div class="btn-group" data-toggle="buttons">
								  <label class="btn btn-primary #{imovelBean.entity.mostrarNaHome == true ? 'active' : ''}">
								    <input type="radio" name="radio-home" id="option1" value="sim" checked="#{imovelBean.entity.mostrarNaHome == true ? 'checked' : ''}" /> Sim
								  </label>
								  <label class="btn btn-primary #{imovelBean.entity.mostrarNaHome != true ? 'active' : ''}">
								    <input type="radio" name="radio-home" id="option2" value="nao" checked="#{imovelBean.entity.mostrarNaHome != true ? 'checked' : ''}"/> Não
								  </label>
								</div>
								<h:inputHidden id="radio1" value="#{imovelBean.entity.mostrarNaHome}" />
								<h:inputHidden id="radio2" value="#{imovelBean.entity.mostrarNoCarousel}" />
								<h:inputHidden id="radio3" value="#{imovelBean.entity.temValor}" />
			          		</div>	
			          		<div class="col-md-3">
			          			<label>Apresentar no Carrousel?</label>
								<div class="btn-group" data-toggle="buttons">
								  <label class="btn btn-primary #{imovelBean.entity.mostrarNoCarousel == true ? 'active' : ''}">
								    <input type="radio" name="radio-carousel" id="option3" value="sim" checked="#{imovelBean.entity.mostrarNoCarousel == true ? 'checked' : ''}"/> Sim
								  </label>
								  <label class="btn btn-primary #{imovelBean.entity.mostrarNoCarousel != true ? 'active' : ''}">
								    <input type="radio" name="radio-carousel" id="option4" value="nao" checked="#{imovelBean.entity.mostrarNoCarousel != true ? 'checked' : ''}"/> Não
								  </label>
								</div>
			          		</div>	
			          		<div class="col-md-3">
			          			<label>Tem valor?</label><br />
								<div class="btn-group" data-toggle="buttons">
								  <label class="btn btn-primary #{imovelBean.entity.temValor == true ? 'active' : ''}">
								    <input type="radio" name="radio-valor" id="option5" value="sim" checked="#{imovelBean.entity.temValor == true ? 'checked' : ''}"/> Sim
								  </label>
								  <label class="btn btn-primary #{imovelBean.entity.temValor != true ? 'active' : ''}">
								    <input type="radio" name="radio-valor" id="option6" value="nao" checked="#{imovelBean.entity.temValor != true ? 'checked' : ''}"/> Não
								  </label>
								</div>
			          		</div>	
			          </div>	
		              <div class="row">
		                <div class="col-md-3">
		                  <label>Valor:</label>
		                  <h:inputText styleClass="form-control" maxlength="9" id="valor" value="#{imovelBean.entity.valor}" />
		                </div>
		                <div class="col-md-3">
		                  <label>Fita:</label>
		                  <h:selectOneMenu value="#{imovelBean.entity.fita}" var="item"  styleClass="form-control">
							  	<f:selectItems value="#{imovelBean.fitas}" itemLabel="${item.label}" />
							</h:selectOneMenu>
		                </div>
		                <div class="col-md-3">
							<label>Tipo:</label>
							<h:selectOneMenu value="#{imovelBean.entity.tipo}" var="tipo"  styleClass="form-control">
							  	<f:selectItems value="#{imovelBean.tipos}" itemLabel="${tipo.label}" />
							</h:selectOneMenu>
		                </div>		                
		                <div class="col-md-3">
		                  <label>Metros:</label>
		                  <h:inputText styleClass="form-control" maxlength="14" id="metros" value="#{imovelBean.entity.metros}" />
		                </div>
		              </div>
		              
		              <div class="row">
		                <div class="col-md-2">
		                  <label>Dormitórios:</label>
		                  <h:inputText styleClass="form-control" type="number" id="dormitorios" min="0" value="#{imovelBean.entity.dormitorios}" />
		                </div>
		                <div class="col-md-2">
		                  <label>Suites:</label>
		                  <h:inputText styleClass="form-control" type="number" id="suites" min="0" value="#{imovelBean.entity.suites}" />
		                </div>
		                <div class="col-md-2">
		                  <label>Banheiros:</label>
		                  <h:inputText styleClass="form-control" type="number" id="banheiros" min="0" value="#{imovelBean.entity.banheiros}" />
		                </div>
		                <div class="col-md-2">
		                  <label>Vagas:</label>
		                  <h:inputText styleClass="form-control" type="number" id="vagas" min="0" value="#{imovelBean.entity.vagas}" />
		                </div>
		                <div class="col-md-4">
		                  <label>Cidade:</label>
		                  <h:inputText maxlength="25" styleClass="form-control" type="text" id="cidade" value="#{imovelBean.entity.cidade}" />
		                </div>
		              </div>
		            </div>
		            <div class="tab-pane" id="profile">
		              <label>descricao-completa:</label>
		              <h:inputTextarea maxlength="558" styleClass="form-control" id="descricaoCompleta" style="height: 117px;" value="#{imovelBean.entity.descricaoCompleta}" />
		              <label>descricao-quadrante:</label>
		              <h:inputTextarea maxlength="213" styleClass="form-control" id="descricaoQuadrante" value="#{imovelBean.entity.descricaoQuadrante}" />
		              <label>descricao-carousel:</label>
		              <h:inputTextarea maxlength="140" styleClass="form-control" id="descricaoCarousel" value="#{imovelBean.entity.descricaoCarousel}" />
		            </div>
		            <div class="tab-pane" id="fotosPrincipais">
			              <label>foto - Carousel (619x334):</label>
			              <h:inputFile value="#{imovelBean.fotoCarousel}"/>
			              <label>foto - Quadrante(276x163):</label>
			              <h:inputFile value="#{imovelBean.fotoQuadrante}"/>
		            </div>
		            <div class="tab-pane" id="settings">
		              <label>caracteristicas:</label>
		              <h:inputText styleClass="form-control" id="caracteristicas" value="#{imovelBean.entity.caracteristicas}" />
		              <label>recursos:</label>
		              <h:inputText styleClass="form-control" id="recursos" value="#{imovelBean.entity.recursos}"/>
		              <label>url maps:</label>
		              <h:inputText styleClass="form-control" id="maps" value="#{imovelBean.entity.maps}" />
		              <label>endereço:</label>
		              <h:inputText maxlength="134" styleClass="form-control"  id="endereco" value="#{imovelBean.entity.endereco}" />
		            </div>
		            <div class="tab-pane" id="thumbs">
			              <h3>Escolha as fotos para aparecerem na galeria de Thumbs (421x308):</h3>
			              <ui:repeat value="#{imovelBean.entity.fotos}" var="o"  varStatus="status" id="fotos">
				              <div class="thumb">
					              	<img id="foto" class="foto" src="img/imoveis/#{o.thumb}" width="92" height="69" />
	 				             	<h:commandButton value="x" id="remover" styleClass="button" onclick="mostrar(this)">
									    <f:ajax listener="#{imovelBean.removerFoto(o.thumb)}" execute="" render="foto"/>
									</h:commandButton>
				              </div>
			              </ui:repeat>
			              <div class="add-foto">
	        				<a class="" id="" data-toggle="modal" data-target="#myModal">+</a>
	   					  </div>	
			              <br />
			              <br />
			              <br />
		            </div>
		          </div>
		
		          <br />
		          <h:commandButton styleClass="btn btn-success" value="salvar" action="#{imovelBean.salvar}" />
		          <a href="admin-imoveis.xhtml" class="btn btn-success"> voltar</a>
		          <a href="#" class="popularImovel btn btn-danger">Popular imóvel</a>
		          
		    		
		        </div>
		      </div>  
		    </div>
		    <h:messages></h:messages>
		
		<div class="modal fade" id="myModal" >
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
		        <h4 class="modal-title">Gerenciador de upload</h4>
		        <p class="modal-title">Escolha a imagem que deseja:</p>
		      </div>
			      <div class="modal-body">
	                  <div class="">
	                  		<h:inputHidden value="#{imovelBean.entity.id}" id="imovel_id"></h:inputHidden>
				            <label>Foto:</label>
				            <h:inputFile value="#{imovelBean.thumb}" id="thumb_uploaded"/>  
			          </div>
			      </div>
			      <div class="modal-footer">
			      	<h:commandButton action="${imovelBean.salvarThumb()}" styleClass="btn btn-success" value="Enviar" >
			      	</h:commandButton>
			      </div>
		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->
		
               </h:form>
		<script src="js/jquery.js"></script>
		<script src="js/jquery.cycle2.js"></script>
		<script src="js/bootstrap-slider.js"></script>
		<script src="js/dropdown.js"></script>
		<script src="js/scripts.js"></script>
		<script src="js/tab.js"></script>
		<script src="js/button.js"></script>
		<script src="js/modal.js"></script>
		
	</h:body>
</html>
